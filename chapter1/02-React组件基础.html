<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React组件基础 | react 快速上手</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" type="image/x-icon" href="./images/favicon.ico">
    <meta name="description" content="杰哥哥前端研究院">
    
    <link rel="preload" href="/jiely/assets/css/0.styles.5afc0e25.css" as="style"><link rel="preload" href="/jiely/assets/js/app.87156db4.js" as="script"><link rel="preload" href="/jiely/assets/js/3.05e47443.js" as="script"><link rel="preload" href="/jiely/assets/js/14.7e9485d0.js" as="script"><link rel="prefetch" href="/jiely/assets/js/10.1bb09252.js"><link rel="prefetch" href="/jiely/assets/js/11.7487ab28.js"><link rel="prefetch" href="/jiely/assets/js/12.a9e0b5c6.js"><link rel="prefetch" href="/jiely/assets/js/13.46042c4c.js"><link rel="prefetch" href="/jiely/assets/js/15.82bd5665.js"><link rel="prefetch" href="/jiely/assets/js/16.da48c8d1.js"><link rel="prefetch" href="/jiely/assets/js/17.4c4fbca4.js"><link rel="prefetch" href="/jiely/assets/js/18.8f64b26e.js"><link rel="prefetch" href="/jiely/assets/js/19.6e619bb0.js"><link rel="prefetch" href="/jiely/assets/js/2.af879dde.js"><link rel="prefetch" href="/jiely/assets/js/20.a8659479.js"><link rel="prefetch" href="/jiely/assets/js/21.c50358c3.js"><link rel="prefetch" href="/jiely/assets/js/22.2b3cb2cc.js"><link rel="prefetch" href="/jiely/assets/js/23.ef2a71c6.js"><link rel="prefetch" href="/jiely/assets/js/24.713e58c4.js"><link rel="prefetch" href="/jiely/assets/js/25.9e2de17e.js"><link rel="prefetch" href="/jiely/assets/js/26.ebe2c2c7.js"><link rel="prefetch" href="/jiely/assets/js/27.b410c517.js"><link rel="prefetch" href="/jiely/assets/js/28.416e0f83.js"><link rel="prefetch" href="/jiely/assets/js/29.28bb402e.js"><link rel="prefetch" href="/jiely/assets/js/30.117590fb.js"><link rel="prefetch" href="/jiely/assets/js/31.012589f4.js"><link rel="prefetch" href="/jiely/assets/js/32.391074f7.js"><link rel="prefetch" href="/jiely/assets/js/33.3b5bff31.js"><link rel="prefetch" href="/jiely/assets/js/34.5f03808f.js"><link rel="prefetch" href="/jiely/assets/js/35.c836f09c.js"><link rel="prefetch" href="/jiely/assets/js/36.cdfd4095.js"><link rel="prefetch" href="/jiely/assets/js/37.3888e0de.js"><link rel="prefetch" href="/jiely/assets/js/38.9d42564b.js"><link rel="prefetch" href="/jiely/assets/js/39.af6cc2f1.js"><link rel="prefetch" href="/jiely/assets/js/4.cb17c8a3.js"><link rel="prefetch" href="/jiely/assets/js/40.28ea6c30.js"><link rel="prefetch" href="/jiely/assets/js/41.07ff3483.js"><link rel="prefetch" href="/jiely/assets/js/42.461144bb.js"><link rel="prefetch" href="/jiely/assets/js/43.7381291e.js"><link rel="prefetch" href="/jiely/assets/js/44.e99c69d5.js"><link rel="prefetch" href="/jiely/assets/js/45.82ace09a.js"><link rel="prefetch" href="/jiely/assets/js/46.6f99a05f.js"><link rel="prefetch" href="/jiely/assets/js/47.50c29aca.js"><link rel="prefetch" href="/jiely/assets/js/48.8de86252.js"><link rel="prefetch" href="/jiely/assets/js/49.7b800d70.js"><link rel="prefetch" href="/jiely/assets/js/5.8ae26c23.js"><link rel="prefetch" href="/jiely/assets/js/6.9b2d155f.js"><link rel="prefetch" href="/jiely/assets/js/7.276458e1.js"><link rel="prefetch" href="/jiely/assets/js/8.b230375e.js"><link rel="prefetch" href="/jiely/assets/js/9.fae1b1d4.js">
    <link rel="stylesheet" href="/jiely/assets/css/0.styles.5afc0e25.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jiely/" class="home-link router-link-active"><img src="/jiely/images/logo.jpg" alt="react 快速上手" class="logo"> <span class="site-name can-hide">react 快速上手</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://juejin.cn/post/7097067108663558151" target="_blank" rel="noopener noreferrer" class="nav-link external">
  50+Vue经典面试题源码级
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://segmentfault.com/a/1190000018604138" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/post/6844904055840440334" target="_blank" rel="noopener noreferrer" class="nav-link external">
  从零React项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://summerjie007.github.io/vue3_study/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3+TS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码规范
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://juejin.cn/post/7097067108663558151" target="_blank" rel="noopener noreferrer" class="nav-link external">
  50+Vue经典面试题源码级
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://segmentfault.com/a/1190000018604138" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/post/6844904055840440334" target="_blank" rel="noopener noreferrer" class="nav-link external">
  从零React项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://summerjie007.github.io/vue3_study/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3+TS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码规范
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/jiely/00_课程介绍.html" class="sidebar-link">课程指南</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>一.react全家桶上手</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>React基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>React组件基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiely/chapter1/02-React组件基础.html" class="active sidebar-link">React组件基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#react-组件基础" class="sidebar-link">React 组件基础</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#react-组件的两种创建方式" class="sidebar-link">React 组件的两种创建方式</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#函数式组件-使用函数创建组件" class="sidebar-link">函数式组件-使用函数创建组件</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#类组件-用class创建组件" class="sidebar-link">类组件-用class创建组件</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#有状态组件和无状态组件" class="sidebar-link">有状态组件和无状态组件</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#类组件的状态" class="sidebar-link">类组件的状态</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#事件绑定" class="sidebar-link">事件绑定</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#事件对象" class="sidebar-link">事件对象</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#事件处理-this指向问题" class="sidebar-link">事件处理-this指向问题</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#事件处理-this指向解决方案" class="sidebar-link">事件处理-this指向解决方案</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#组件的状态-修改状态" class="sidebar-link">组件的状态-修改状态</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#setstate的典型用法" class="sidebar-link">setState的典型用法</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#获取表单元素的值的两种思路" class="sidebar-link">获取表单元素的值的两种思路</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#非受控组件-ref" class="sidebar-link">非受控组件-ref</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#受控组件" class="sidebar-link">受控组件</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#拓展-常见的受控组件" class="sidebar-link">拓展：常见的受控组件</a></li><li class="sidebar-sub-header"><a href="/jiely/chapter1/02-React组件基础.html#综合案例-b站评论列表" class="sidebar-link">综合案例-B站评论列表</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>React组件通讯</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>React组件通讯进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>react-hooks基础阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>react-hooks进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>redux基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>redux进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>react路由</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>二.react全家桶项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>三.前端算法之道</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>四.JS设计设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>五.JS报错总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>六.Vue3+Pinia</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>七.node.js</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="react-组件基础"><a href="#react-组件基础" class="header-anchor">#</a> React 组件基础</h2> <ul><li>React 组件介绍</li> <li>React 组件的两种创建方式</li> <li>事件绑定</li> <li>组件的状态</li> <li>事件绑定 this 指向</li> <li>表单处理</li></ul> <h3 id="react-组件介绍"><a href="#react-组件介绍" class="header-anchor">#</a> React 组件介绍</h3> <h3 id="目标"><a href="#目标" class="header-anchor">#</a> 目标</h3> <p>了解 React 组件的意义</p> <p><img src="/jiely/assets/img/zujianhua.237211d8.png" alt="React"></p> <h3 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h3> <p>对特定功能的封装，主要用来对UI进行拆分。</p> <h4 id="内容"><a href="#内容" class="header-anchor">#</a> 内容</h4> <p>结构 HTML</p> <ul><li>Vue: 没有template，可以用render()</li> <li><strong>有些组件的意义不在于自己的结构，而在于对其他组件的二次封装</strong></li></ul> <p>样式 CSS
逻辑 JS</p> <h4 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h4> <ul><li>独立</li> <li>可复用</li> <li>可组合</li></ul> <h3 id="分类"><a href="#分类" class="header-anchor">#</a> 分类</h3> <ul><li>基础组件：指<code>input</code>、<code>button</code>这种基础标签，以及antd封装过的通用UI组件</li> <li>业务组件：由基础组件组合成的业务抽象化UI。例如: 包含了A公司所有部门信息的下拉框</li> <li>区块组件：由基础组件组件和业务组件组合成的UI块</li> <li>页面组件：展示给用户的最终页面，一般就是对应一个路由规则</li></ul> <h2 id="react-组件的两种创建方式"><a href="#react-组件的两种创建方式" class="header-anchor">#</a> React 组件的两种创建方式</h2> <h3 id="目标-2"><a href="#目标-2" class="header-anchor">#</a> 目标</h3> <p>了解 React 组件的两种创建方式</p> <ol><li>使用 JS 中的<code>函数</code>创建组件</li> <li>使用 JS 中的 <code>class</code> 创建组件</li></ol> <h3 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span>

<span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>react的两种组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

<span class="token comment">// 定义一个函数式组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">Com1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>第一个函数式组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义一个类组件</span>
<span class="token keyword">class</span> <span class="token class-name">Com2</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>第一个类组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>title<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>Com1 <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Com2 <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="对比"><a href="#对比" class="header-anchor">#</a> 对比</h3> <ol><li>类组件比较繁琐</li> <li>函数式组件比较简便</li></ol> <p>目前市面上的项目中都有使用</p> <h2 id="函数式组件-使用函数创建组件"><a href="#函数式组件-使用函数创建组件" class="header-anchor">#</a> 函数式组件-使用函数创建组件</h2> <h3 id="目标-3"><a href="#目标-3" class="header-anchor">#</a> 目标</h3> <p>掌握函数式组件的定义和使用方式</p> <h3 id="定义组件"><a href="#定义组件" class="header-anchor">#</a> 定义组件</h3> <p>使用 JS 的函数(或箭头函数)创建的组件，叫做<code>函数组件</code></p> <ul><li><p>约定1：<strong>函数名首字符大写</strong></p> <p>必须以<strong>大写字母开头</strong>，React 据此区分<code>组件</code>和<code>普通的 HTML</code></p></li> <li><p>约定2：<strong>必须有返回值</strong></p> <p>表示该组件的 UI 结构；如果不需要渲染任何内容，则返回 null</p></li></ul> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 使用普通函数创建组件：</span>
<span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>这是我的第一个函数组件<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2.  使用箭头函数创建组件：</span>
<span class="token keyword">const</span> <span class="token function-variable function">Hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>这是我的第一个函数组件<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h3 id="使用组件"><a href="#使用组件" class="header-anchor">#</a> 使用组件</h3> <p>使用组件就像使用 HTML 标签一样。用函数名称作为组件标签名称</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 双标签 渲染组件：</span>
<span class="token operator">&lt;</span>Hello<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">&gt;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">&gt;</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span>

<span class="token comment">// 使用 单标签 渲染组件：</span>
<span class="token operator">&lt;</span>Hello <span class="token operator">/</span><span class="token operator">&gt;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span>
</code></pre></div><h3 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h3> <ol><li>函数式组件本质是一个___?</li> <li>函数式组件可以使用箭头函数吗？</li> <li>函数式组件的要求
<ol><li>函数名？</li> <li>返回值？</li></ol></li></ol> <h2 id="类组件-用class创建组件"><a href="#类组件-用class创建组件" class="header-anchor">#</a> 类组件-用class创建组件</h2> <h3 id="目标-4"><a href="#目标-4" class="header-anchor">#</a> 目标</h3> <p>掌握类组件的基本用法</p> <h3 id="定义格式"><a href="#定义格式" class="header-anchor">#</a> 定义格式</h3> <p>使用 ES6 的 class 创建的组件，叫做类（class）组件</p> <p><strong>格式</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// import { Component } from 'react'</span>
<span class="token comment">// class 类名 extends Component {</span>
<span class="token keyword">import</span> React form <span class="token string">'react'</span>
<span class="token keyword">class</span> 类名 <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... </span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> 本组件的<span class="token constant">UI</span>结构
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意:</p> <ol><li>类名必须以<strong>大写字母开头</strong></li> <li>extends是一个关键字，用来实现类之间的继承。类组件应该继承 React.Component 父类，从而使用父类中提供的方法或属性。</li> <li>类组件必须提供 render 方法，render 方法必须有返回值，表示该组件的 UI 结构。render会在组件创建时执行一次</li></ol> <p><strong>示例</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入 React</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello Class Component<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用组件-2"><a href="#使用组件-2" class="header-anchor">#</a> 使用组件</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入 React</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDom <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token comment">// 1. 定义组件</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello Class Component<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>Hello<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>使用组件的方式与函数式组件一致：可以使用单标签和双标签</p> <h3 id="小结-2"><a href="#小结-2" class="header-anchor">#</a> 小结</h3> <ol><li>class组件的格式是：<code>class 类名 ___ ____</code>?</li> <li>对类组件的名称要求是?</li> <li>类组件的内部必须提供   <code>____</code> 方法？</li></ol> <h2 id="有状态组件和无状态组件"><a href="#有状态组件和无状态组件" class="header-anchor">#</a> 有状态组件和无状态组件</h2> <h3 id="目标-5"><a href="#目标-5" class="header-anchor">#</a> 目标</h3> <p>理解状态的概念，理解有状态组件和无状态组件的概念</p> <h3 id="什么是状态-state"><a href="#什么是状态-state" class="header-anchor">#</a> 什么是状态(state)</h3> <p>定义：<strong>是</strong>用来描述事物在<code>某一时刻的形态</code>的<strong>数据</strong>。一般称为state。例如：9月23号时书的库存数量； 18岁时人的身高；</p> <p>特点：</p> <ul><li><p>状态能被改变，改变了之后视图会有对应的变化</p> <p><img src="/jiely/assets/img/image-20211104195958254.c2718b86.png" alt="image-20211104195958254"></p></li></ul> <p>作用：</p> <ul><li>保存数据。例如：要循环生成一份歌曲列表，那要提前准备好歌曲数据吧</li> <li>为后续更新视图打下基础。如果用户点击了操作，让歌单的内容+1了，视图会自动更新（这是由react库决定的）</li></ul> <h3 id="有状态组件和无状态组件-2"><a href="#有状态组件和无状态组件-2" class="header-anchor">#</a> 有状态组件和无状态组件</h3> <p>有状态组件：能定义state的组件。类组件就是有状态组件。</p> <p>无状态组件：不能定义state的组件。函数组件又叫做<code>无状态组件</code></p> <blockquote><p>注意：2019年02月06日，rect 16.8中引入了 React Hooks，从而函数式组件也能定义自己的状态了</p></blockquote> <h3 id="无状态组件的应用场景"><a href="#无状态组件的应用场景" class="header-anchor">#</a> 无状态组件的应用场景</h3> <ul><li>组件本身就不需要有状态。例如：渲染一段固定的内容</li> <li>组件本身就没有状态，可以从外部传入</li></ul> <h3 id="小结-3"><a href="#小结-3" class="header-anchor">#</a> 小结</h3> <ol><li><p>状态：<strong>是</strong>用来描述事物在<code>某一时刻的形态</code>的<strong>数据</strong></p></li> <li><p>状态的特点: 能被修改，改了之后对应的视图也能更新。</p></li> <li><p>函数组件是____组件，类组件是____组件</p></li></ol> <h2 id="类组件的状态"><a href="#类组件的状态" class="header-anchor">#</a> 类组件的状态</h2> <h3 id="目标-6"><a href="#目标-6" class="header-anchor">#</a> 目标</h3> <p>掌握react类组件中定义状态和渲染状态</p> <h3 id="定义状态"><a href="#定义状态" class="header-anchor">#</a> 定义状态</h3> <p>固定格式，使用</p> <ol><li><code>state = 对象</code></li> <li>在构造函数中用<code>this.state= 对象</code>来做初始化</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. state就是状态</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;明天会更好&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;难忘今宵&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isLoading</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 2. 构造函数</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;明天会更好&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;难忘今宵&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isLoading</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="在视图中使用"><a href="#在视图中使用" class="header-anchor">#</a> 在视图中使用</h3> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>歌单<span class="token operator">-</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isLoading <span class="token operator">?</span> <span class="token string">&quot;正在加载&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;加载完成&quot;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="小结-4"><a href="#小结-4" class="header-anchor">#</a> 小结</h3> <ol><li>state能改名？</li> <li><code>const { num } = this.state</code></li></ol> <h2 id="事件绑定"><a href="#事件绑定" class="header-anchor">#</a> 事件绑定</h2> <h3 id="目标-7"><a href="#目标-7" class="header-anchor">#</a> 目标</h3> <p>能掌握react中的事件绑定</p> <h3 id="为什么要做事件绑定"><a href="#为什么要做事件绑定" class="header-anchor">#</a> 为什么要做事件绑定</h3> <p>让页面有交互； 修改数据以更新视图</p> <h3 id="格式"><a href="#格式" class="header-anchor">#</a> 格式</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>元素</span> <span class="token attr-name">事件名1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{</span> <span class="token attr-name">事件处理函数1</span> <span class="token attr-name">}</span> <span class="token attr-name">事件名2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{</span> <span class="token attr-name">事件处理函数2</span> <span class="token attr-name">}</span>  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>元素</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>注意：React 事件名采用驼峰命名法，比如：onMouseEnter、onFocus、 onClick ......</p> <h3 id="示例-2"><a href="#示例-2" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span>

<span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>react中的事件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mouseEnter事件'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div
        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click事件'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onMouseEnter<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">}</span>
        能处理鼠标进入或者点击事件
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>title<span class="token punctuation">}</span>
    <span class="token punctuation">{</span><span class="token operator">&lt;</span>Hello <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>注意：</p> <ol><li>事件名是小驼峰命名格式</li> <li>在类中补充方法</li> <li>this.fn不要加括号：
<ul><li><code>onClick={ this.fn() }</code> 先调用fn()，然后将fn的执行结果当做click事件的处理函数</li></ul></li></ol> <p>别忘记了写this</p> <h3 id="小结-5"><a href="#小结-5" class="header-anchor">#</a> 小结</h3> <h2 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h2> <h3 id="复习导入"><a href="#复习导入" class="header-anchor">#</a> 复习导入</h3> <p>如何获取原生dom操作时，如何获取事件对象？</p> <p>能举例说明事件对象的作用？阻止默认行为</p> <h3 id="目标-8"><a href="#目标-8" class="header-anchor">#</a> 目标</h3> <p>掌握react中的获取事件对象的方法</p> <h3 id="获取事件对象"><a href="#获取事件对象" class="header-anchor">#</a> 获取事件对象</h3> <p>react中，通过<strong>事件处理函数的形参</strong>来获取。</p> <h3 id="示例-3"><a href="#示例-3" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'单击事件触发了'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'按钮点击了'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    				<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://summerjie007.github.io/vue3_study/&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>vue<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
  			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>  
  
<span class="token punctuation">}</span>
</code></pre></div><h3 id="小结-6"><a href="#小结-6" class="header-anchor">#</a> 小结</h3> <p>事件对象通过回调函数的参数来获取。</p> <h2 id="事件处理-this指向问题"><a href="#事件处理-this指向问题" class="header-anchor">#</a> 事件处理-this指向问题</h2> <h3 id="目标-9"><a href="#目标-9" class="header-anchor">#</a> 目标</h3> <p>了解事件处理程序中this指向异常并能知道原因</p> <h3 id="问题导入"><a href="#问题导入" class="header-anchor">#</a> 问题导入</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'hello react'</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// 这里的this是？undefined</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// 这里的this是？</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>render方法中的this指向的而是当前react组件。</li> <li>事件处理程序中的this指向的是<code>undefined</code></li></ul> <h3 id="分析原因"><a href="#分析原因" class="header-anchor">#</a> 分析原因</h3> <ul><li>事件处理程序的函数式函数调用模式，在严格模式下，this指向<code>undefined</code></li> <li>render函数是被组件实例调用的，因此render函数中的this指向当前组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'小花'</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> t <span class="token operator">=</span> p1<span class="token punctuation">.</span>say
<span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>总结</strong>：</p> <ol><li>class的内部，开启了局部严格模式<code>use strict</code>，所以this不会指向window <code>undefined</code></li> <li><code>onClick={this.fn}</code>中，this.fn的调用并不是通过类的实例调用的，所以值是undefined</li></ol> <h2 id="事件处理-this指向解决方案"><a href="#事件处理-this指向解决方案" class="header-anchor">#</a> 事件处理-this指向解决方案</h2> <h3 id="目标-10"><a href="#目标-10" class="header-anchor">#</a> 目标</h3> <p>掌握常见的this指向解决方案</p> <h3 id="有三种方式"><a href="#有三种方式" class="header-anchor">#</a> 有三种方式</h3> <p>解决事件处理程序中this指向问题主要有三种方式</p> <ol><li>在外层补充箭头函数</li> <li>Function.prototype.bind()</li> <li>class 的实例方法【推荐】</li></ol> <h3 id="方式1-在外层补充箭头函数"><a href="#方式1-在外层补充箭头函数" class="header-anchor">#</a> 方式1：在外层补充箭头函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'hello react'</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>原理：箭头函数中的this指向外层作用域中的this</p> <p>缺点：需要额外包裹一个箭头函数，结构不美观</p> <p><img src="/jiely/assets/img/image-20211106141740738.3b7688e4.png" alt="image-20211106141740738"></p> <h3 id="方式2-使用bind"><a href="#方式2-使用bind" class="header-anchor">#</a> 方式2：使用bind</h3> <p>复习：</p> <p><img src="/jiely/assets/img/image-20211106142158746.aa23d537.png" alt="image-20211106142158746"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'hello react'</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>原理：bind能绑定this</p> <p><img src="/jiely/assets/img/image-20211106142533668.04865a27.png" alt="image-20211106142533668"></p> <h3 id="方式3-class-的实例方法"><a href="#方式3-class-的实例方法" class="header-anchor">#</a> 方式3：class 的实例方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'hello react'</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="小结-7"><a href="#小结-7" class="header-anchor">#</a> <strong>小结</strong></h3> <ol><li>方式3是最方便的，也是以后用的最多的方式</li></ol> <h2 id="组件的状态-修改状态"><a href="#组件的状态-修改状态" class="header-anchor">#</a> 组件的状态-修改状态</h2> <h3 id="目标-11"><a href="#目标-11" class="header-anchor">#</a> 目标</h3> <p>理解setState的格式，会使用setState函数来修改状态</p> <h3 id="setstate"><a href="#setstate" class="header-anchor">#</a> setState</h3> <p>语法：<code>this.setState({ 要修改的部分数据 })</code></p> <p>作用：</p> <ol><li><p>修改 state</p> <ol start="2"><li><strong>更新 UI</strong></li></ol></li></ol> <h3 id="示例-4"><a href="#示例-4" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token operator">++</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="理解状态不可变"><a href="#理解状态不可变" class="header-anchor">#</a> 理解状态不可变</h3> <p>react核心理念之<strong>状态不可变</strong></p> <p>不要直接修改当前状态值，而是创建新的状态值去覆盖老的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">// 无效</span>
</code></pre></div><h3 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h3> <p>不能通过直接修改state中的值来让视图变化，而应该用____________________来修改</p> <h2 id="setstate的典型用法"><a href="#setstate的典型用法" class="header-anchor">#</a> setState的典型用法</h2> <h3 id="目标-12"><a href="#目标-12" class="header-anchor">#</a> 目标</h3> <p>掌握setState的典型应用场景</p> <h3 id="场景"><a href="#场景" class="header-anchor">#</a> 场景</h3> <p><strong>核心代码</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">assets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'手机'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'耳机'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">skill</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token string">'react'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// angular</span>
  <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'武汉'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> assets<span class="token punctuation">,</span> skill<span class="token punctuation">,</span> info <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
          <span class="token literal-property property">年龄</span><span class="token operator">:</span><span class="token punctuation">{</span>info<span class="token punctuation">.</span>age<span class="token punctuation">}</span> 城市<span class="token operator">:</span><span class="token punctuation">{</span>info<span class="token punctuation">.</span>city<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>资产<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span><span class="token punctuation">{</span>assets<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>技能<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span><span class="token punctuation">{</span>skill<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>idx<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button
          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          点我改数据
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="任务"><a href="#任务" class="header-anchor">#</a> 任务</h3> <ol><li>把name改成'小花'</li> <li>把age改成20</li> <li>把'手机'改成'电脑'</li> <li>向skill中添加'angular'</li> <li>删除id为2的assets</li></ol> <h3 id="参考代码"><a href="#参考代码" class="header-anchor">#</a> 参考代码</h3> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 把name改成'小花'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小花'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 2. 把age改成20</span>
    <span class="token comment">// this.setState({ info: { ...this.state.info, age: 20 } })</span>
    
    <span class="token comment">// 3. 把'手机'改成'电脑'</span>
    <span class="token comment">// const assets = [...this.state assets]</span>
    <span class="token comment">// assets[0].name = '电脑'</span>
    <span class="token comment">// this.setState({ assets })</span>
		
    <span class="token comment">// 4. 向skill中添加'angular'</span>
    <span class="token comment">// this.setState({ skill: [...this.state.skill, 'angular'] })</span>
    
    <span class="token comment">// 5. 删除id为2的assets</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="获取表单元素的值的两种思路"><a href="#获取表单元素的值的两种思路" class="header-anchor">#</a> 获取表单元素的值的两种思路</h2> <h3 id="目标-13"><a href="#目标-13" class="header-anchor">#</a> 目标</h3> <p>能够了解获取表单元素的值的两种思路</p> <h3 id="问题导入-2"><a href="#问题导入-2" class="header-anchor">#</a> 问题导入</h3> <p>如何获取表单元素（例如输入框）?</p> <p>初始代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>如何获取input中的值<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>点击按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h3> <p>有两种思路：</p> <ol><li>直接找到表单元素进行dom操作
<strong>非受控组件</strong></li> <li>将表单元素值与react的state绑定到一起，把用户的修改同步到state中。让组件受到react的控制--&gt; <strong>受控组件</strong></li></ol> <h3 id="小结-8"><a href="#小结-8" class="header-anchor">#</a> 小结</h3> <h2 id="非受控组件-ref"><a href="#非受控组件-ref" class="header-anchor">#</a> 非受控组件-ref</h2> <h3 id="目标-14"><a href="#目标-14" class="header-anchor">#</a> 目标</h3> <p>借助于ref，使用原生DOM的方式来获取表单元素的值</p> <h3 id="ref的使用格式"><a href="#ref的使用格式" class="header-anchor">#</a> ref的使用格式</h3> <p><strong>步骤</strong></p> <ol><li>导入方法。<code>import { createRef } from 'react'</code></li> <li>调用createRef方法创建引用，假设名为refDom。 <code>const refDom = createRef()</code></li> <li>refDom设置给表单元素的ref属性。<code>&lt;input ref={refDom}/&gt;</code></li> <li>通过refDom.current.value来获取值。<code>console.log(this.refDom.current.value)</code></li></ol> <p><strong>内容</strong></p> <ul><li>受控组件是通过 React 组件的状态来控制表单元素的值</li> <li>非受控组件是通过手动操作 DOM 的方式来控制</li> <li>此时，需要用到一个新的概念：ref</li> <li>ref：用来在 React 中获取 DOM 元素</li></ul> <h3 id="示例代码"><a href="#示例代码" class="header-anchor">#</a> 示例代码</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 1. 导入方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2. 调用createRef方法创建引用</span>
  txtRef <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 4. 通过.current.value来获取值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">如何获取input中的值-非受控组件-ref</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
         </span><span class="token punctuation">{</span><span class="token comment">/* 3. 设置给表单元素的ref属性 */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtRef<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">获取文本框的值</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    )
  }
}
</span></code></pre></div><h3 id="小结-9"><a href="#小结-9" class="header-anchor">#</a> 小结</h3> <h2 id="受控组件"><a href="#受控组件" class="header-anchor">#</a> 受控组件</h2> <h3 id="目标-15"><a href="#目标-15" class="header-anchor">#</a> 目标</h3> <p>掌握使用受控组件的方式来获取表单元素的值</p> <h3 id="如何理解受控"><a href="#如何理解受控" class="header-anchor">#</a> 如何理解受控</h3> <p>正常情况下，表单元素input是可任意输入内容的，可以理解为input自己维护它的状态（value）</p> <p>受控组件的思路：</p> <ol><li>在state中定义状态</li> <li>将state中的状态与表单元素的value值绑定到一起，进而通过state中的状态来控制表单元素的值</li></ol> <p>受控组件：<strong>value值受到了react控制的表单元素</strong></p> <h3 id="基本步骤"><a href="#基本步骤" class="header-anchor">#</a> 基本步骤</h3> <p>有两个步骤：</p> <ol><li>在state中定义状态</li> <li>对表单元素做两件事
<ol><li>设置value为上面定义的状态</li> <li>绑定onChange事件，并在回调中通过setState来修改状态值</li></ol></li></ol> <h3 id="示例-5"><a href="#示例-5" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 在state中定义状态</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'hello react'</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">msg</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token parameter">（）</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      	<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>如何获取input中的值<span class="token operator">-</span>受控组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 2. 对表单元素做两件事 */</span><span class="token punctuation">}</span>
          	<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
							value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">}</span>
							onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span>
						<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>获取文本框的值<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意</p> <p>使用受控组件的方式处理表单元素后，状态的值就是表单元素的值。即：想要操作表单元素的值，只需要操作对应的状态即可</p> <h2 id="拓展-常见的受控组件"><a href="#拓展-常见的受控组件" class="header-anchor">#</a> 拓展：常见的受控组件</h2> <h3 id="目标-16"><a href="#目标-16" class="header-anchor">#</a> 目标</h3> <p>掌握常见的受控组件的在react中的使用</p> <p><img src="data:image/png;base64,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" alt="image-20211105221423128"></p> <h3 id="内容-2"><a href="#内容-2" class="header-anchor">#</a> 内容</h3> <p>文本框，文本域，下拉框，复选框</p> <h3 id="要点"><a href="#要点" class="header-anchor">#</a> 要点</h3> <p>不同类型的表单元素进行受控处理时的格式是不同的：</p> <ol><li><p>文本框、文本域、下拉框：value属性 + onChange事件</p></li> <li><p>复选框:  checked属性 + onChange事件</p></li> <li><p>单选按钮组：checked属性 + onChange事件</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isSingle</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleDesc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">desc</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleCity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleSingle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">isSingle</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">hGender</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        姓名：<span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
          value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleName<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        描述：<span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>desc<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleDesc<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        城市：<span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>city<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleCity<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>北京<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span>上海<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token operator">&gt;</span>广州<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;4&quot;</span><span class="token operator">&gt;</span>深圳<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        是否单身：<span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isSingle<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSingle<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span>
          name<span class="token operator">=</span><span class="token string">&quot;gender&quot;</span>
          value<span class="token operator">=</span><span class="token string">&quot;男&quot;</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'男'</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>hGender<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>
        男
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span>
          name<span class="token operator">=</span><span class="token string">&quot;gender&quot;</span>
          value<span class="token operator">=</span><span class="token string">&quot;女&quot;</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'女'</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>hGender<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>
        女
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="综合案例-b站评论列表"><a href="#综合案例-b站评论列表" class="header-anchor">#</a> 综合案例-B站评论列表</h2> <p>完成交互功能</p> <h3 id="tab栏切换功能"><a href="#tab栏切换功能" class="header-anchor">#</a> tab栏切换功能</h3> <p>**目标：**完成评论列表中的tab栏切换功能</p> <p><strong>步骤：</strong></p> <ol><li>给tab栏注册点击事件</li> <li>修改active进行切换</li></ol> <p><strong>核心代码：</strong></p> <ul><li>给tab栏注册点击事件</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span>
  <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>active <span class="token operator">?</span> <span class="token string">'on'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeTab</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  按</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">排序
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>修改active属性</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function-variable function">changeTab</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">active</span><span class="token operator">:</span> type<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="删除评论功能"><a href="#删除评论功能" class="header-anchor">#</a> 删除评论功能</h3> <p><strong>目标：完成评论列表案例的删除功能</strong></p> <p><strong>步骤：</strong></p> <ol><li>给删除按钮注册点击事件</li> <li>通过setState删除对应的数据</li></ol> <p><strong>核心代码</strong>：</p> <ul><li>给删除按钮注册点击事件</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reply btn-hover<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  删除
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>通过setState删除对应的数据</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function-variable function">del</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">!==</span> id<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="添加评论功能"><a href="#添加评论功能" class="header-anchor">#</a> 添加评论功能</h3> <p>**目标：**完成评论列表添加功能</p> <p><strong>步骤：</strong></p> <ol><li>通过受控组件的方式获取到评论内容</li> <li>通过setState添加评论</li> <li>重置评论的内容</li></ol> <p><strong>核心代码</strong></p> <ul><li>受控组件方式获取内容</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span>
  <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>发条友善的评论<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ipt-txt<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>content<span class="token punctuation">}</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>

<span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>点击按钮添加评论</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comment-submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  发表评论
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newComment <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">'作者'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">comment</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 1: 点赞 0：无态度 -1:踩</span>
    <span class="token literal-property property">attitude</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>newComment<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="点赞与踩的功能"><a href="#点赞与踩的功能" class="header-anchor">#</a> 点赞与踩的功能</h3> <p>**目标：**完成点赞与踩的功能</p> <p><strong>步骤：</strong></p> <ol><li>注册点击事件</li> <li>修改点赞状态</li></ol> <p><strong>核心代码</strong></p> <ul><li>注册点击事件</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeAttitude</span><span class="token punctuation">(</span>
      item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      item<span class="token punctuation">.</span>attitude <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span>
  <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
    <span class="token string">'like'</span><span class="token punctuation">,</span>
    item<span class="token punctuation">.</span>attitude <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'liked'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeAttitude</span><span class="token punctuation">(</span>
      item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      item<span class="token punctuation">.</span>attitude <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span>
  <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
    <span class="token string">'hate'</span><span class="token punctuation">,</span>
    item<span class="token punctuation">.</span>attitude <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'hated'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>修改点赞状态</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function-variable function">changeAttitude</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> attitude</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>item<span class="token punctuation">,</span>
          attitude<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jiely/chapter1/01-React基础.html" class="prev">
        React 基础
      </a></span> <span class="next"><a href="/jiely/chapter1/03-React组件通讯.html">
        组件通讯
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/jiely/assets/js/app.87156db4.js" defer></script><script src="/jiely/assets/js/3.05e47443.js" defer></script><script src="/jiely/assets/js/14.7e9485d0.js" defer></script>
  </body>
</html>
